buildscript {
    repositories {
        jcenter()
    }
    dependencies {
        classpath 'com.github.jengelman.gradle.plugins:shadow:5.1.0'
    }
}

group 'SuperiorPrison'
version '1.0-SNAPSHOT'

allprojects {

    apply plugin: 'java'
    apply plugin: 'com.github.johnrengelman.shadow'

    repositories {
        jcenter()
        mavenLocal()
        maven { url 'https://repo.codemc.org/repository/nms/' }
        //maven { url 'https://repo.codemc.org/repository/maven-public/' }
    }

    dependencies {
        compileOnly "org.spigotmc:spigot:1.12.2-R0.1-SNAPSHOT"
        compileOnly 'org.projectlombok:lombok:1.18.8'
        compile "com.oop.orangeengine:file:3.3"
        compile "com.oop.orangeengine:item:3.3"
        compile "com.oop.orangeengine:engine:3.3"
        compile "com.oop.orangeengine:command:3.3"
        compile "com.oop.orangeengine:database:3.3"
        compile "com.oop.orangeengine:eventssubscription:3.3"
        compile "com.oop.orangeengine:message:3.3"
        annotationProcessor 'org.projectlombok:lombok:1.18.8'
        if (project.name.equalsIgnoreCase("plugin"))
            compile project(":api")
    }

    if(project.name.equalsIgnoreCase("plugin")) {
        shadowJar {
            archiveName = "SuperiorPrison.jar"
            destinationDirectory = file('../target')
        }
    }

}